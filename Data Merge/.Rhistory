colnames(df_Cor)[3] <- "PB_TRM"
colnames(df_Cor)[4] <- "PB_DEM"
colnames(df_Cor)[5] <- "PB_ANT"
colnames(df_Cor)[6] <- "PB_CENT"
df_Cor <- cbind(df_Cor,MVC$Date)
colnames(df_Cor)[7] <- "Fecha"
df_Cor$Fecha <- as.Date(df_Cor$Fecha)
df_Cor <- cbind(df_Cor,MVC$PB_Nac,MVC$HIDRAULICA,MVC$TERMICA,MVC$Demanda)
df_Cor$`MVC$PB_Nac`<- df_Cor$`MVC$PB_Nac`/mean(df_Cor$`MVC$PB_Nac`)
df_Cor$`MVC$HIDRAULICA` <- df_Cor$`MVC$HIDRAULICA`/mean(df_Cor$`MVC$HIDRAULICA`)
df_Cor$`MVC$TERMICA` <- df_Cor$`MVC$TERMICA`/mean(df_Cor$`MVC$TERMICA`)
df_Cor$`MVC$Demanda` <- df_Cor$`MVC$Demanda`/mean(df_Cor$`MVC$Demanda`)
colnames(df_Cor)[8] <- "PB_Mean"
colnames(df_Cor)[9] <- "HIDRA"
colnames(df_Cor)[10] <- "TERMICA"
colnames(df_Cor)[11] <- "Demanda"
df_Cor <- df_Cor[1:8841,]
ggplot(df_Cor, aes(Fecha))+
geom_line(aes(y = df_Cor$PB_Mean, colour = "Precio Bolsa"),size=0.8)+
geom_line(aes(y = df_Cor$HIDRA ,colour = "Energía Hidráulica"),size=0.5)+
geom_line(aes(y = df_Cor$PB_HIDRAULICA ,colour = "Correlación"),size=1.2)+
scale_x_date(date_breaks = "1 month", date_labels = "%m %Y") +
labs(title = "Correlación Energía Hidráulica y Precio Bolsa", x = "Tiempo [Mes Año]",y ="")
ggplot(df_Cor, aes(Fecha))+
geom_line(aes(y = df_Cor$PB_Mean, colour = "Precio Bolsa"))+
geom_line(aes(y = df_Cor$TERMICA ,colour = "Energía Termica"))+
geom_line(aes(y = df_Cor$PB_TERMICA ,colour = "Correlación"))+
scale_x_date(date_breaks = "1 month", date_labels = "%m %Y") +
labs(title = "Correlación Energía Termica y Precio Bolsa", x = "Tiempo [Mes Año]",y ="")
ggplot(df_Cor, aes(Fecha))+
geom_line(aes(y = df_Cor$PB_Mean, colour = "Precio Bolsa"),size = 0.8)+
geom_line(aes(y = df_Cor$Demanda ,colour = "Demanda Total"),size = 0.5)+
geom_line(aes(y = df_Cor$PB_DEM ,colour = "Correlación"),size = 1.2)+
scale_x_date(date_breaks = "1 month", date_labels = "%m %Y") +
labs(title = "Correlación Demanda y Precio Bolsa", x = "Tiempo [Mes Año]",y ="")
install.packages("ggplot2")
install.packages("GGally")
library(ggplot2)
library("GGally")
#Grafica de PB_NAc vs Tiempo
ggplot(df_final, aes(as.Date(Date), PB_Nac)) +
geom_line(colour = "#009E73") + scale_x_date(date_breaks = "1 year", date_labels = "%y") +
labs(title = "Precio Energia en Bolsa", x = "Tiempo [Años]", y = "Precio[$/kWh]", color = "Legend Title\n")
#Se eliminan todos los Dataframes del ambiente Global de desarrollo
rm(list=ls())
#Incluir librerias y paquetes
library(readxl)
library(reshape2)
library(lubridate)
library(plyr)
library(dplyr)
#Establecer un directorio de trabajo
setwd("C:/Users/sebas/Documents/2021-20/BUSINESS ECONOMIC AND FINANCIAL DATA/BEFD Scripts/Data Merge")
dfEE <- read.csv("EE2.csv")
Demanda <- dfEE[,7:49]
Demanda[is.na(Demanda)] <- 0
Demanda <-rowSums(Demanda)
dfEE[,7:49] <- NULL
colnames(dfEE)[26] <- "Date"
dfEE <- cbind(dfEE,Demanda)
dfEE$X <- NULL
rm(Demanda)
dfEE$Fechita <- as.Date(dfEE$Date)
#-------------------------------------------------------------------------------------------------------------------------------#
#-------------------------------------------------------------------------------------------------------------------------------#
dfEE <- dfEE[105181:113940,]
library(ggplot2)
library("GGally")
#Grafica de PB_NAc vs Tiempo
ggplot(dfEE, aes(as.Date(Date), PB_Nac)) +
geom_line(colour = "#009E73") + scale_x_date(date_breaks = "1 year", date_labels = "%y") +
labs(title = "Precio Energia en Bolsa", x = "Tiempo [Años]", y = "Precio[$/kWh]", color = "Legend Title\n")
View(dfEE)
#Se eliminan todos los Dataframes del ambiente Global de desarrollo
rm(list=ls())
#Incluir librerias y paquetes
library(readxl)
library(reshape2)
library(lubridate)
library(plyr)
library(dplyr)
#Establecer un directorio de trabajo
setwd("C:/Users/sebas/Documents/2021-20/BUSINESS ECONOMIC AND FINANCIAL DATA/BEFD Scripts/Data Merge")
dfEE <- read.csv("EE2.csv")
Demanda <- dfEE[,7:49]
Demanda[is.na(Demanda)] <- 0
Demanda <-rowSums(Demanda)
dfEE[,7:49] <- NULL
colnames(dfEE)[26] <- "Date"
View(dfEE)
dfEE <- cbind(dfEE,Demanda)
dfEE$X <- NULL
rm(Demanda)
dfEE$Date
#Se eliminan todos los Dataframes del ambiente Global de desarrollo
rm(list=ls())
#Incluir librerias y paquetes
library(readxl)
library(reshape2)
library(lubridate)
library(plyr)
library(dplyr)
#Establecer un directorio de trabajo
setwd("C:/Users/sebas/Documents/2021-20/BUSINESS ECONOMIC AND FINANCIAL DATA/BEFD Scripts/Data Merge")
dfEE <- read.csv("EE2.csv")
Demanda <- dfEE[,7:49]
Demanda[is.na(Demanda)] <- 0
Demanda <-rowSums(Demanda)
View(dfEE)
dfEE[,7:49] <- NULL
View(dfEE)
colnames(dfEE)[27] <- "Date"
dfEE <- cbind(dfEE,Demanda)
dfEE$X <- NULL
rm(Demanda)
dfEE$Fechita <- as.Date(dfEE$Date)
View(dfEE)
#-------------------------------------------------------------------------------------------------------------------------------#
#-------------------------------------------------------------------------------------------------------------------------------#
dfEE <- dfEE[105181:113940,]
library(ggplot2)
library("GGally")
#Grafica de PB_NAc vs Tiempo
ggplot(dfEE, aes(as.Date(Date), PB_Nac)) +
geom_line(colour = "#009E73") + scale_x_date(date_breaks = "1 year", date_labels = "%y") +
labs(title = "Precio Energia en Bolsa", x = "Tiempo [Años]", y = "Precio[$/kWh]", color = "Legend Title\n")
View(dfEE)
df_Cor <- data.frame(PB_HIDRAULICA=double(),
PB_TERMICA =double(),
PB_TRM = double(),
PB_DEM = double(),
PB_ORI = double(),
PB_VALL = double())
myvars <- c("PB_Nac", "HIDRAULICA","TERMICA","TRM","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
MVC <- dfEE[myvars]
MVC[is.na(MVC)] <- 0
MVC <- MVC[108863:118063,]
for (i in 1:nrow(MVC)) {
tempCor <- MVC[i:(i+240),]
#print(tempCor)
#tempCor[is.na(tempCor)] <- 0
CorH20 <- cor(tempCor$PB_Nac, tempCor$HIDRAULICA)
CorAN <- cor(tempCor$PB_Nac, tempCor$TERMICA )
CorCAR <- cor(tempCor$PB_Nac, tempCor$TRM)
CorCEN <- cor(tempCor$PB_Nac, tempCor$Demanda)
CorORI <- cor(tempCor$PB_Nac, tempCor$ANTIOQUIAMm3)
CorVALL <- cor(tempCor$PB_Nac, tempCor$CENTROMm3)
df_Cor <- rbind(df_Cor,c(CorH20,CorAN,CorCAR,CorCEN,CorORI,CorVALL))
}
df_Cor <- data.frame(PB_HIDRAULICA=double(),
PB_TERMICA =double(),
PB_TRM = double(),
PB_DEM = double(),
PB_ORI = double(),
PB_VALL = double())
myvars <- c("PB_Nac", "HIDRAULICA","TERMICA","TRM","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
MVC <- dfEE[myvars]
myvars <- c("PB_Nac", "HIDRAULICA","TERMICA","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
MVC <- dfEE[myvars]
MVC[is.na(MVC)] <- 0
MVC <- MVC[108863:118063,]
for (i in 1:nrow(MVC)) {
tempCor <- MVC[i:(i+240),]
#print(tempCor)
#tempCor[is.na(tempCor)] <- 0
CorH20 <- cor(tempCor$PB_Nac, tempCor$HIDRAULICA)
CorAN <- cor(tempCor$PB_Nac, tempCor$TERMICA )
CorCAR <- cor(tempCor$PB_Nac, tempCor$TRM)
CorCEN <- cor(tempCor$PB_Nac, tempCor$Demanda)
CorORI <- cor(tempCor$PB_Nac, tempCor$ANTIOQUIAMm3)
CorVALL <- cor(tempCor$PB_Nac, tempCor$CENTROMm3)
df_Cor <- rbind(df_Cor,c(CorH20,CorAN,CorCAR,CorCEN,CorORI,CorVALL))
}
myvars <- c("PB_Nac", "HIDRAULICA","TERMICA","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
MVC <- dfEE[myvars]
MVC[is.na(MVC)] <- 0
MVC <- MVC[108863:118063,]
for (i in 1:nrow(MVC)) {
tempCor <- MVC[i:(i+240),]
#print(tempCor)
#tempCor[is.na(tempCor)] <- 0
CorH20 <- cor(tempCor$PB_Nac, tempCor$HIDRAULICA)
CorAN <- cor(tempCor$PB_Nac, tempCor$TERMICA )
CorCEN <- cor(tempCor$PB_Nac, tempCor$Demanda)
CorORI <- cor(tempCor$PB_Nac, tempCor$ANTIOQUIAMm3)
CorVALL <- cor(tempCor$PB_Nac, tempCor$CENTROMm3)
df_Cor <- rbind(df_Cor,c(CorH20,CorAN,CorCAR,CorCEN,CorORI,CorVALL))
}
for (i in 1:nrow(MVC)) {
tempCor <- MVC[i:(i+240),]
#print(tempCor)
#tempCor[is.na(tempCor)] <- 0
CorH20 <- cor(tempCor$PB_Nac, tempCor$HIDRAULICA)
CorAN <- cor(tempCor$PB_Nac, tempCor$TERMICA )
CorCEN <- cor(tempCor$PB_Nac, tempCor$Demanda)
CorORI <- cor(tempCor$PB_Nac, tempCor$ANTIOQUIAMm3)
CorVALL <- cor(tempCor$PB_Nac, tempCor$CENTROMm3)
df_Cor <- rbind(df_Cor,c(CorH20,CorAN,CorCEN,CorORI,CorVALL))
}
View(df_Cor)
colnames(df_Cor)[1] <- "PB_HIDRAULICA"
colnames(df_Cor)[2] <- "PB_TERMICA"
colnames(df_Cor)[3] <- "PB_TRM"
colnames(df_Cor)[4] <- "PB_DEM"
colnames(df_Cor)[5] <- "PB_ANT"
colnames(df_Cor)[6] <- "PB_CENT"
df_Cor <- cbind(df_Cor,MVC$Date)
colnames(df_Cor)[7] <- "Fecha"
df_Cor$Fecha <- as.Date(df_Cor$Fecha)
df_Cor <- cbind(df_Cor,MVC$PB_Nac,MVC$HIDRAULICA,MVC$TERMICA,MVC$Demanda)
df_Cor$`MVC$PB_Nac`<- df_Cor$`MVC$PB_Nac`/mean(df_Cor$`MVC$PB_Nac`)
df_Cor$`MVC$HIDRAULICA` <- df_Cor$`MVC$HIDRAULICA`/mean(df_Cor$`MVC$HIDRAULICA`)
df_Cor$`MVC$TERMICA` <- df_Cor$`MVC$TERMICA`/mean(df_Cor$`MVC$TERMICA`)
df_Cor$`MVC$Demanda` <- df_Cor$`MVC$Demanda`/mean(df_Cor$`MVC$Demanda`)
colnames(df_Cor)[8] <- "PB_Mean"
colnames(df_Cor)[9] <- "HIDRA"
colnames(df_Cor)[10] <- "TERMICA"
colnames(df_Cor)[11] <- "Demanda"
df_Cor <- df_Cor[1:8841,]
ggplot(df_Cor, aes(Fecha))+
geom_line(aes(y = df_Cor$PB_Mean, colour = "Precio Bolsa"),size=0.8)+
geom_line(aes(y = df_Cor$HIDRA ,colour = "Energía Hidráulica"),size=0.5)+
geom_line(aes(y = df_Cor$PB_HIDRAULICA ,colour = "Correlación"),size=1.2)+
scale_x_date(date_breaks = "1 month", date_labels = "%m %Y") +
labs(title = "Correlación Energía Hidráulica y Precio Bolsa", x = "Tiempo [Mes Año]",y ="")
df_Cor <- data.frame(PB_HIDRAULICA=double(),
PB_TERMICA =double(),
PB_DEM = double(),
PB_ORI = double(),
PB_VALL = double())
myvars <- c("PB_Nac", "HIDRAULICA","TERMICA","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
MVC <- dfEE[myvars]
MVC[is.na(MVC)] <- 0
MVC <- MVC[108863:118063,]
for (i in 1:nrow(MVC)) {
tempCor <- MVC[i:(i+240),]
#print(tempCor)
#tempCor[is.na(tempCor)] <- 0
CorH20 <- cor(tempCor$PB_Nac, tempCor$HIDRAULICA)
CorAN <- cor(tempCor$PB_Nac, tempCor$TERMICA )
CorCEN <- cor(tempCor$PB_Nac, tempCor$Demanda)
CorORI <- cor(tempCor$PB_Nac, tempCor$ANTIOQUIAMm3)
CorVALL <- cor(tempCor$PB_Nac, tempCor$CENTROMm3)
df_Cor <- rbind(df_Cor,c(CorH20,CorAN,CorCEN,CorORI,CorVALL))
}
for (i in 1:nrow(MVC)) {
tempCor <- MVC[i:(i+240),]
#print(tempCor)
#tempCor[is.na(tempCor)] <- 0
CorH20 <- cor(tempCor$PB_Nac, tempCor$HIDRAULICA)
CorAN <- cor(tempCor$PB_Nac, tempCor$TERMICA )
CorCEN <- cor(tempCor$PB_Nac, tempCor$Demanda)
CorORI <- cor(tempCor$PB_Nac, tempCor$ANTIOQUIAMm3)
CorVALL <- cor(tempCor$PB_Nac, tempCor$CENTROMm3)
df_Cor <- rbind(df_Cor,c(CorH20,CorAN,CorCEN,CorORI,CorVALL))
}
View(df_Cor)
View(MVC)
MVC[is.na(MVC)] <- 0
View(MVC)
View(MVC)
View(dfEE)
myvars <- c("PB_Nac")
MVC <- dfEE[myvars]
View(MVC)
myvars <- c("PB_Nac", "HIDRAULICA","TERMICA","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","Date")
MVC <- dfEE[myvars]
View(MVC)
M
M
myvars <- c("PB_Nac", "HIDRAULICA","TERMICA","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
MVC <- dfEE[myvars]
View(MVC)
MVC[is.na(MVC)] <- 0
MVC <- MVC[108863:118063,]
View(MVC)
myvars <- c("PB_Nac", "HIDRAULICA","TERMICA","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
MVC <- dfEE[myvars]
View(MVC)
MVC <- MVC[108863:118063,]
for (i in 1:nrow(MVC)) {
tempCor <- MVC[i:(i+240),]
#print(tempCor)
#tempCor[is.na(tempCor)] <- 0
CorH20 <- cor(tempCor$PB_Nac, tempCor$HIDRAULICA)
CorAN <- cor(tempCor$PB_Nac, tempCor$TERMICA )
CorCEN <- cor(tempCor$PB_Nac, tempCor$Demanda)
CorORI <- cor(tempCor$PB_Nac, tempCor$ANTIOQUIAMm3)
CorVALL <- cor(tempCor$PB_Nac, tempCor$CENTROMm3)
df_Cor <- rbind(df_Cor,c(CorH20,CorAN,CorCEN,CorORI,CorVALL))
}
View(df_Cor)
print(tempCor)
for (i in 1:nrow(MVC)) {
tempCor <- MVC[i:(i+240),]
print(tempCor)
#tempCor[is.na(tempCor)] <- 0
CorH20 <- cor(tempCor$PB_Nac, tempCor$HIDRAULICA)
CorAN <- cor(tempCor$PB_Nac, tempCor$TERMICA )
CorCEN <- cor(tempCor$PB_Nac, tempCor$Demanda)
CorORI <- cor(tempCor$PB_Nac, tempCor$ANTIOQUIAMm3)
CorVALL <- cor(tempCor$PB_Nac, tempCor$CENTROMm3)
df_Cor <- rbind(df_Cor,c(CorH20,CorAN,CorCEN,CorORI,CorVALL))
}
View(MVC)
myvars <- c("PB_Nac", "HIDRAULICA","TERMICA","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
MVC <- dfEE[myvars]
MVC[is.na(MVC)] <- 0
View(MVC)
View(MVC)
#MVC <- MVC[108863:118063,]
for (i in 1:nrow(MVC)) {
tempCor <- MVC[i:(i+240),]
print(tempCor)
#tempCor[is.na(tempCor)] <- 0
CorH20 <- cor(tempCor$PB_Nac, tempCor$HIDRAULICA)
CorAN <- cor(tempCor$PB_Nac, tempCor$TERMICA )
CorCEN <- cor(tempCor$PB_Nac, tempCor$Demanda)
CorORI <- cor(tempCor$PB_Nac, tempCor$ANTIOQUIAMm3)
CorVALL <- cor(tempCor$PB_Nac, tempCor$CENTROMm3)
df_Cor <- rbind(df_Cor,c(CorH20,CorAN,CorCEN,CorORI,CorVALL))
}
#MVC <- MVC[108863:118063,]
for (i in 1:nrow(MVC)) {
tempCor <- MVC[i:(i+240),]
#print(tempCor)
#tempCor[is.na(tempCor)] <- 0
CorH20 <- cor(tempCor$PB_Nac, tempCor$HIDRAULICA)
CorAN <- cor(tempCor$PB_Nac, tempCor$TERMICA )
CorCEN <- cor(tempCor$PB_Nac, tempCor$Demanda)
CorORI <- cor(tempCor$PB_Nac, tempCor$ANTIOQUIAMm3)
CorVALL <- cor(tempCor$PB_Nac, tempCor$CENTROMm3)
df_Cor <- rbind(df_Cor,c(CorH20,CorAN,CorCEN,CorORI,CorVALL))
}
colnames(df_Cor)[1] <- "PB_HIDRAULICA"
colnames(df_Cor)[2] <- "PB_TERMICA"
colnames(df_Cor)[3] <- "PB_TRM"
colnames(df_Cor)[4] <- "PB_DEM"
colnames(df_Cor)[5] <- "PB_ANT"
colnames(df_Cor)[6] <- "PB_CENT"
View(df_Cor)
#MVC <- MVC[108863:118063,]
for (i in 1:nrow(MVC)) {
tempCor <- MVC[i:(i+240),]
#print(tempCor)
#tempCor[is.na(tempCor)] <- 0
CorH20 <- cor(tempCor$PB_Nac, tempCor$HIDRAULICA)
CorAN <- cor(tempCor$PB_Nac, tempCor$TERMICA )
CorCEN <- cor(tempCor$PB_Nac, tempCor$Demanda)
CorORI <- cor(tempCor$PB_Nac, tempCor$ANTIOQUIAMm3)
CorVALL <- cor(tempCor$PB_Nac, tempCor$CENTROMm3)
df_Cor <- rbind(df_Cor,c(CorH20,CorAN,CorCEN,CorORI,CorVALL))
}
View(df_Cor)
ggplot(df_Cor, aes(Fecha))+
geom_line(aes(y = df_Cor$PB_Mean, colour = "Precio Bolsa"),size=0.8)+
geom_line(aes(y = df_Cor$HIDRA ,colour = "Energía Hidráulica"),size=0.5)+
geom_line(aes(y = df_Cor$PB_HIDRAULICA ,colour = "Correlación"),size=1.2)+
scale_x_date(date_breaks = "1 month", date_labels = "%m %Y") +
labs(title = "Correlación Energía Hidráulica y Precio Bolsa", x = "Tiempo [Mes Año]",y ="")
View(MVC)
View(MVC)
View(tempCor)
View(tempCor)
View(tempCor)
View(df_Cor)
df_Cor <- data.frame(PB_HIDRAULICA=double(),
PB_TERMICA =double(),
PB_DEM = double(),
PB_ORI = double(),
PB_VALL = double())
View(df_Cor)
#MVC <- MVC[108863:118063,]
for (i in 1:nrow(MVC)) {
tempCor <- MVC[i:(i+240),]
#print(tempCor)
#tempCor[is.na(tempCor)] <- 0
CorH20 <- cor(tempCor$PB_Nac, tempCor$HIDRAULICA)
CorAN <- cor(tempCor$PB_Nac, tempCor$TERMICA)
CorCEN <- cor(tempCor$PB_Nac, tempCor$Demanda)
CorORI <- cor(tempCor$PB_Nac, tempCor$ANTIOQUIAMm3)
CorVALL <- cor(tempCor$PB_Nac, tempCor$CENTROMm3)
df_Cor <- rbind(df_Cor,c(CorH20,CorAN,CorCEN,CorORI,CorVALL))
}
View(df_Cor)
colnames(df_Cor)[1] <- "PB_HIDRAULICA"
colnames(df_Cor)[2] <- "PB_TERMICA"
#Se eliminan todos los Dataframes del ambiente Global de desarrollo
rm(list=ls())
#Incluir librerias y paquetes
library(readxl)
library(reshape2)
library(lubridate)
library(plyr)
library(dplyr)
#Establecer un directorio de trabajo
setwd("C:/Users/sebas/Documents/2021-20/BUSINESS ECONOMIC AND FINANCIAL DATA/BEFD Scripts/Data Merge")
dfEE <- read.csv("EE2.csv")
#Graficas
Demanda <- dfEE[,7:49]
Demanda[is.na(Demanda)] <- 0
Demanda <-rowSums(Demanda)
dfEE[,7:49] <- NULL
colnames(dfEE)[27] <- "Date"
dfEE <- cbind(dfEE,Demanda)
dfEE$X <- NULL
rm(Demanda)
dfEE$Fechita <- as.Date(dfEE$Date)
#-------------------------------------------------------------------------------------------------------------------------------#
#-------------------------------------------------------------------------------------------------------------------------------#
dfEE <- dfEE[105181:113940,]
library(ggplot2)
library("GGally")
#Grafica de PB_NAc vs Tiempo
ggplot(dfEE, aes(as.Date(Date), PB_Nac)) +
geom_line(colour = "#009E73") + scale_x_date(date_breaks = "1 year", date_labels = "%y") +
labs(title = "Precio Energia en Bolsa", x = "Tiempo [Años]", y = "Precio[$/kWh]", color = "Legend Title\n")
#Histograma Precio Bolsa Nacional
df_Cor <- data.frame(PB_HIDRAULICA=double(),
PB_TERMICA =double(),
PB_DEM = double(),
PB_ORI = double(),
PB_VALL = double())
myvars <- c("PB_Nac", "HIDRAULICA","TERMICA","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
MVC <- dfEE[myvars]
MVC[is.na(MVC)] <- 0
#MVC <- MVC[108863:118063,]
for (i in 1:nrow(MVC)) {
tempCor <- MVC[i:(i+240),]
#print(tempCor)
#tempCor[is.na(tempCor)] <- 0
CorH20 <- cor(tempCor$PB_Nac, tempCor$HIDRAULICA)
CorAN <- cor(tempCor$PB_Nac, tempCor$TERMICA)
CorCEN <- cor(tempCor$PB_Nac, tempCor$Demanda)
CorORI <- cor(tempCor$PB_Nac, tempCor$ANTIOQUIAMm3)
CorVALL <- cor(tempCor$PB_Nac, tempCor$CENTROMm3)
df_Cor <- rbind(df_Cor,c(CorH20,CorAN,CorCEN,CorORI,CorVALL))
}
colnames(df_Cor)[1] <- "PB_HIDRAULICA"
colnames(df_Cor)[2] <- "PB_TERMICA"
colnames(df_Cor)[3] <- "PB_DEM"
colnames(df_Cor)[4] <- "PB_ANT"
colnames(df_Cor)[5] <- "PB_CENT"
df_Cor <- cbind(df_Cor,MVC$Date)
colnames(df_Cor)[6] <- "Fecha"
View(df_Cor)
df_Cor$Fecha <- as.Date(df_Cor$Fecha)
df_Cor <- cbind(df_Cor,MVC$PB_Nac,MVC$HIDRAULICA,MVC$TERMICA,MVC$Demanda)
df_Cor$`MVC$PB_Nac`<- df_Cor$`MVC$PB_Nac`/mean(df_Cor$`MVC$PB_Nac`)
df_Cor$`MVC$HIDRAULICA` <- df_Cor$`MVC$HIDRAULICA`/mean(df_Cor$`MVC$HIDRAULICA`)
df_Cor$`MVC$TERMICA` <- df_Cor$`MVC$TERMICA`/mean(df_Cor$`MVC$TERMICA`)
df_Cor$`MVC$Demanda` <- df_Cor$`MVC$Demanda`/mean(df_Cor$`MVC$Demanda`)
colnames(df_Cor)[8] <- "PB_Mean"
colnames(df_Cor)[9] <- "HIDRA"
colnames(df_Cor)[10] <- "TERMICA"
colnames(df_Cor)[11] <- "Demanda"
View(df_Cor)
colnames(df_Cor)[7] <- "PB_Mean"
colnames(df_Cor)[8] <- "HIDRA"
colnames(df_Cor)[9] <- "TERMICA"
colnames(df_Cor)[10] <- "Demanda"
df_Cor <- df_Cor[1:8841,]
View(df_Cor)
ggplot(df_Cor, aes(Fecha))+
geom_line(aes(y = df_Cor$PB_Mean, colour = "Precio Bolsa"),size=0.8)+
geom_line(aes(y = df_Cor$HIDRA ,colour = "Energía Hidráulica"),size=0.5)+
geom_line(aes(y = df_Cor$PB_HIDRAULICA ,colour = "Correlación"),size=1.2)+
scale_x_date(date_breaks = "1 month", date_labels = "%m %Y") +
labs(title = "Correlación Energía Hidráulica y Precio Bolsa", x = "Tiempo [Mes Año]",y ="")
ggplot(df_Cor, aes(Fecha))+
geom_line(aes(y = df_Cor$PB_Mean, colour = "Precio Bolsa"))+
geom_line(aes(y = df_Cor$TERMICA ,colour = "Energía Termica"))+
geom_line(aes(y = df_Cor$PB_TERMICA ,colour = "Correlación"))+
scale_x_date(date_breaks = "1 month", date_labels = "%m %Y") +
labs(title = "Correlación Energía Termica y Precio Bolsa", x = "Tiempo [Mes Año]",y ="")
ggplot(df_Cor, aes(Fecha))+
geom_line(aes(y = df_Cor$PB_Mean, colour = "Precio Bolsa"),size = 0.8)+
geom_line(aes(y = df_Cor$Demanda ,colour = "Demanda Total"),size = 0.5)+
geom_line(aes(y = df_Cor$PB_DEM ,colour = "Correlación"),size = 1.2)+
scale_x_date(date_breaks = "1 month", date_labels = "%m %Y") +
labs(title = "Correlación Demanda y Precio Bolsa", x = "Tiempo [Mes Año]",y ="")
ggplot(df_Cor, aes(Fecha))+
geom_line(aes(y = df_Cor$PB_Mean, colour = "Precio Bolsa"))+
geom_line(aes(y = df_Cor$HIDRA ,colour = "Energía Hidráulica"))+
geom_line(aes(y = df_Cor$PB_HIDRAULICA ,colour = "Correlación"))+
scale_x_date(date_breaks = "1 month", date_labels = "%m %Y") +
labs(title = "Correlación Energía Hidráulica y Precio Bolsa", x = "Tiempo [Mes Año]",y ="")
myvars <- c("PB_Nac","VB_Nac","CB_Nac", "HIDRAULICA","TERMICA","TRM","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
df_cor_cor <- dfEE[70000:120000,]
df_cor_cor <- df_cor_cor[myvars]
colnames(df_cor_cor) <- c("Precio Bolsa","Venta Bolsa","Compra Bolsa", "HIDRAULICA","TERMICA","TRM","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
myvars <- c("PB_Nac","VB_Nac","CB_Nac", "HIDRAULICA","TERMICA","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
df_cor_cor <- dfEE[70000:120000,]
df_cor_cor <- df_cor_cor[myvars]
colnames(df_cor_cor) <- c("Precio Bolsa","Venta Bolsa","Compra Bolsa", "HIDRAULICA","TERMICA","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
ggcorr(df_cor_cor, palette = "RdBu", label = TRUE)
myvars <- c("PB_Nac","VB_Nac","CB_Nac", "HIDRAULICA","TERMICA","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
df_cor_cor <- dfEE[70000:120000,]
df_cor_cor <- df_cor_cor[myvars]
colnames(df_cor_cor) <- c("Precio Bolsa","Venta Bolsa","Compra Bolsa", "HIDRAULICA","TERMICA","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
ggcorr(df_cor_cor, palette = "RdBu", label = TRUE)
View(df_cor_cor)
View(dfEE)
dfEE <- read.csv("EE2.csv")
myvars <- c("PB_Nac","VB_Nac","CB_Nac", "HIDRAULICA","TERMICA","Demanda","ANTIOQUIAMm3","CARIBEMm3","CENTROMm3","ORIENTEMm3","VALLEMm3","Date")
df_cor_cor <- dfEE[70000:120000,]
df_cor_cor <- df_cor_cor[myvars]
#Se eliminan todos los Dataframes del ambiente Global de desarrollo
rm(list=ls())
source("~/.active-rstudio-document", encoding = 'UTF-8', echo=TRUE)
source("~/2021-20/BUSINESS ECONOMIC AND FINANCIAL DATA/BEFD Scripts/EDA.R", echo=TRUE)
View(dfEE)
